@model PL.WebApplication.Models.BankAccount
@{
    ViewBag.Title = "DepositTo";
}

@Html.Partial("_PageHeader", "Deposit to account")

@Html.Partial("_AccountInfo", Model)

@Html.ValidationSummary(false, null, new { @class = "text-danger" })

@using (Html.BeginForm("MakeDeposit", "Service", Model, FormMethod.Post, new { @class = "form-inline" }))
{
    <div class="form-group">
        <label for="amount" class="form-text ">Deposit amount:</label>
        <input name="amount" id="amount" class="form-control mx-2" type="number" />
        <button type="button" class="btn btn-primary " data-toggle="modal" data-target="#myModal">Deposit</button>
    </div>

    @Html.Partial("_Modal", Model)
}

@*@Html.ValidationMessage("deposit amount", new { @class = "text-danger" })*@

@{ 
    ViewBag.Action = "deposit";
    ViewBag.LinkText = "back to accounts list";
}
<br />
@Html.Partial("_BackLink")

@section Scripts
{
    <script>
        $(function () {
            $("button").click(function () {
                var amount = $("#amount").val();
                $(".modal-title").text("Deposit " + parseInt(amount).toLocaleString('en-US', { style: 'currency', currency: 'USD' }) + " to this account?");
            });
        });
    </script>
}